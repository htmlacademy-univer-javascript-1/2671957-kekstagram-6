<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/style.css">

  <!-- noUiSlider стили через CDN -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nouislider@15.7.0/dist/nouislider.min.css">

  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  <title>Кекстаграм</title>
  <base href="https://htmlacademy-univer-javascript-1.github.io/2671957-kekstagram-6/13/">
</head>

<body>
  <main>

    <!-- Фильтрация изображений от других пользователей -->
    <section class="img-filters img-filters--inactive container">
      <h2 class="img-filters__title visually-hidden">Фильтр фотографий</h2>
      <form class="img-filters__form" action="index.html" method="get" autocomplete="off">
        <button type="button" class="img-filters__button img-filters__button--active" id="filter-default">По умолчанию</button>
        <button type="button" class="img-filters__button" id="filter-random">Случайные</button>
        <button type="button" class="img-filters__button" id="filter-discussed">Обсуждаемые</button>
      </form>
    </section>

    <!-- Контейнер для изображений от других пользователей -->
    <section class="pictures container">
      <h2 class="pictures__title visually-hidden">Фотографии других пользователей</h2>

      <!-- ШАБЛОН МИНИАТЮРЫ -->
      <template id="picture">
        <a class="picture" href="#">
          <img class="picture__img" src="" alt="Фотография пользователя">
          <p class="picture__info">
            <span class="picture__comments">0</span>
            <span class="picture__likes">0</span>
          </p>
        </a>
      </template>

      <!-- Поле для загрузки нового изображения на сайт -->
      <section class="img-upload">
        <div class="img-upload__wrapper">
          <h2 class="img-upload__title visually-hidden">Загрузка фотографии</h2>

          <!-- ФОРМА ЗАГРУЗКИ -->
          <form
            class="img-upload__form"
            id="upload-select-image"
            method="post"
            enctype="multipart/form-data"
            action="https://29.javascript.htmlacademy.pro/kekstagram"
            autocomplete="off">

            <!-- Изначальное состояние поля для загрузки изображения -->
            <fieldset class="img-upload__start">
              <input
                type="file"
                id="upload-file"
                class="img-upload__input visually-hidden"
                name="filename"
                required>
              <label for="upload-file" class="img-upload__label img-upload__control">Загрузить</label>
            </fieldset>

            <!-- Форма редактирования изображения -->
            <div class="img-upload__overlay hidden">
              <div class="img-upload__wrapper">
                <div class="img-upload__preview-container">

                  <!-- Изменение размера изображения -->
                  <fieldset class="img-upload__scale scale">
                    <button type="button" class="scale__control scale__control--smaller">Уменьшить</button>
                    <input
                      type="text"
                      class="scale__control scale__control--value"
                      value="100%"
                      name="scale"
                      readonly>
                    <button type="button" class="scale__control scale__control--bigger">Увеличить</button>
                  </fieldset>

                  <!-- Предварительный просмотр изображения -->
                  <div class="img-upload__preview">
                    <img src="img/upload-default-image.jpg" alt="Предварительный просмотр фотографии">
                  </div>

                  <!-- Слайдер эффектов -->
                  <fieldset class="img-upload__effect-level effect-level">
                    <input class="effect-level__value" type="number" name="effect-level" step="any" value="">
                    <div class="effect-level__slider"></div>
                  </fieldset>

                  <!-- Кнопка закрытия -->
                  <button type="reset" class="img-upload__cancel cancel" id="upload-cancel">Закрыть</button>
                </div>

                <!-- ЭФФЕКТЫ -->
                <fieldset class="img-upload__effects effects">
                  <ul class="effects__list">
                    <li class="effects__item">
                      <input
                        type="radio"
                        class="effects__radio visually-hidden"
                        name="effect"
                        id="effect-none"
                        value="none"
                        checked>
                      <label for="effect-none" class="effects__label">
                        <span class="effects__preview effects__preview--none"></span>
                        Оригинал
                      </label>
                    </li>
                    <li class="effects__item">
                      <input
                        type="radio"
                        class="effects__radio visually-hidden"
                        name="effect"
                        id="effect-chrome"
                        value="chrome">
                      <label for="effect-chrome" class="effects__label">
                        <span class="effects__preview effects__preview--chrome"></span>
                        Хром
                      </label>
                    </li>
                    <li class="effects__item">
                      <input
                        type="radio"
                        class="effects__radio visually-hidden"
                        name="effect"
                        id="effect-sepia"
                        value="sepia">
                      <label for="effect-sepia" class="effects__label">
                        <span class="effects__preview effects__preview--sepia"></span>
                        Сепия
                      </label>
                    </li>
                    <li class="effects__item">
                      <input
                        type="radio"
                        class="effects__radio visually-hidden"
                        name="effect"
                        id="effect-marvin"
                        value="marvin">
                      <label for="effect-marvin" class="effects__label">
                        <span class="effects__preview effects__preview--marvin"></span>
                        Марвин
                      </label>
                    </li>
                    <li class="effects__item">
                      <input
                        type="radio"
                        class="effects__radio visually-hidden"
                        name="effect"
                        id="effect-phobos"
                        value="phobos">
                      <label for="effect-phobos" class="effects__label">
                        <span class="effects__preview effects__preview--phobos"></span>
                        Фобос
                      </label>
                    </li>
                    <li class="effects__item">
                      <input
                        type="radio"
                        class="effects__radio visually-hidden"
                        name="effect"
                        id="effect-heat"
                        value="heat">
                      <label for="effect-heat" class="effects__label">
                        <span class="effects__preview effects__preview--heat"></span>
                        Зной
                      </label>
                    </li>
                  </ul>
                </fieldset>

                <!-- ХЭШТЕГИ / КОММЕНТЫ -->
                <fieldset class="img-upload__text text">
                  <div class="img-upload__field-wrapper">
                    <input class="text__hashtags" name="hashtags" placeholder="#ХэшТег">
                  </div>
                  <div class="img-upload__field-wrapper">
                    <textarea class="text__description" name="description" placeholder="Ваш комментарий..."></textarea>
                  </div>
                </fieldset>

                <button type="submit" class="img-upload__submit" id="upload-submit">Опубликовать</button>
              </div>
            </div>
          </form>
        </div>
      </section>
    </section>
  </main>

  <!-- Окно полноэкранного просмотра изображения -->
  <section class="big-picture overlay hidden">
    <div class="big-picture__preview">
      <div class="big-picture__img">
        <img src="img/upload-default-image.jpg" alt="Просмотр фотографии">
      </div>

      <div class="social">
        <div class="social__header">
          <img
            class="social__picture"
            src="img/avatar-1.svg"
            alt="Аватар автора фотографии"
            width="35"
            height="35">
          <p class="social__caption">Описание фотографии</p>
          <p class="social__likes">
            Нравится <span class="likes-count">0</span>
          </p>
        </div>

        <ul class="social__comments">
          <!-- Комментарии будут добавляться сюда скриптом -->
        </ul>

        <p class="social__comment-count">
          <span class="comments-count">0</span> из <span class="comments-total">0</span> комментариев
        </p>

        <button class="social__comments-loader comments-loader" type="button">Загрузить ещё</button>

        <div class="social__footer">
          <img
            class="social__footer-commentor"
            src="img/avatar-1.svg"
            alt="Аватар комментатора"
            width="35"
            height="35">
          <input
            class="social__footer-text"
            type="text"
            name="comment"
            placeholder="Ваш комментарий...">
          <button class="social__footer-btn" type="button">Отправить</button>
        </div>
      </div>

      <button class="big-picture__cancel cancel" id="picture-cancel" type="button">Закрыть</button>
    </div>
  </section>

  <!-- Шаблон сообщения об успешной отправке -->
  <template id="success">
    <section class="success">
      <div class="success__inner">
        <h2 class="success__title">Изображение успешно загружено</h2>
        <button type="button" class="success__button">Круто!</button>
      </div>
    </section>
  </template>

  <!-- Шаблон сообщения об ошибке отправки -->
  <template id="error">
    <section class="error">
      <div class="error__inner">
        <h2 class="error__title">Ошибка загрузки файла</h2>
        <p class="error__text">Попробуйте ещё раз.</p>
        <button type="button" class="error__button">Ок</button>
      </div>
    </section>
  </template>

  <!-- Подключение библиотек и скриптов -->
  <script src="https://unpkg.com/pristinejs/dist/pristine.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/nouislider@15.7.0/dist/nouislider.min.js"></script>

  <!-- главный модуль (внутри него импортируются остальные js-файлы) -->
  <script type="module" src="js/main.js"></script>
</body>
</html>
